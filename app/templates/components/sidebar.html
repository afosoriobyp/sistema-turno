<!-- Menú Lateral (Sidebar) para Dashboard de Administración -->
<div class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <h3>Sistema de Turnos</h3>
        <button class="sidebar-toggle" onclick="toggleSidebar()">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <div class="sidebar-user">
        <i class="fas fa-user-circle"></i>
        <div class="sidebar-user-info">
            <p class="sidebar-user-name">{{ current_user.nombre }}</p>
            <p class="sidebar-user-role">{% if current_user.es_superadmin %}Superadministrador{% else %}Administrador{% endif %}</p>
        </div>
    </div>
    
    <nav class="sidebar-nav">
        <a href="{{ url_for('admin.dashboard') }}" class="sidebar-item {% if request.endpoint == 'admin.dashboard' %}active{% endif %}">
            <i class="fas fa-tachometer-alt"></i>
            <span>Dashboard</span>
        </a>
        
        <a href="{{ url_for('empleado.estadisticas') }}" class="sidebar-item {% if request.endpoint == 'empleado.estadisticas' %}active{% endif %}">
            <i class="fas fa-chart-bar"></i>
            <span>Estadísticas</span>
        </a>
        
        {% if current_user.es_superadmin %}
        <div class="sidebar-divider"></div>
        <p class="sidebar-title">Administración</p>
        
        <a href="{{ url_for('admin.usuarios_lista') }}" class="sidebar-item {% if request.endpoint and 'admin.usuario' in request.endpoint %}active{% endif %}">
            <i class="fas fa-users-cog"></i>
            <span>Usuarios Sistema</span>
        </a>
        
        <a href="{{ url_for('admin.empleados_lista') }}" class="sidebar-item {% if request.endpoint and 'admin.empleado' in request.endpoint %}active{% endif %}">
            <i class="fas fa-user-tie"></i>
            <span>Empleados</span>
        </a>
        
        <a href="{{ url_for('admin.tramites_lista') }}" class="sidebar-item {% if request.endpoint and 'admin.tramite' in request.endpoint %}active{% endif %}">
            <i class="fas fa-file-alt"></i>
            <span>Trámites</span>
        </a>
        {% endif %}
        
        <div class="sidebar-divider"></div>
        
        <a href="{{ url_for('admin.logout') }}" class="sidebar-item">
            <i class="fas fa-sign-out-alt"></i>
            <span>Cerrar Sesión</span>
        </a>
    </nav>
</div>

<!-- Overlay para cerrar sidebar en móviles -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

<!-- Botón para abrir sidebar en móviles -->
<button class="sidebar-mobile-toggle" onclick="openSidebar()">
    <i class="fas fa-bars"></i>
</button>

<script>
function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebarOverlay');
    sidebar.classList.toggle('active');
    overlay.classList.toggle('active');
}

function openSidebar() {
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebarOverlay');
    sidebar.classList.add('active');
    overlay.classList.add('active');
}

function closeSidebar() {
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebarOverlay');
    sidebar.classList.remove('active');
    overlay.classList.remove('active');
}
</script>
